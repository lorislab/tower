<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:composite="http://xmlns.jcp.org/jsf/composite"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:b="http://lorislab.org/beefaces/cp"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <composite:interface>
        <composite:attribute name="ctr" required="true"/>
        <composite:attribute name="system" required="true"/>
    </composite:interface>

    <composite:implementation>	        

        <div jsf:id="system" class="box #{not empty cc.attrs.system.build ? 'box-success' : 'box-danger'}">

            <div class="box-header">
                <h3 class="box-title"><a href="#{cc.attrs.system.build.system.link}">#{cc.attrs.system.model.name}</a>
                    <small jsf:rendered="#{not empty cc.attrs.system.build.system.link}"> #{cc.attrs.system.model.domain}</small>
                </h3>
                <div class="box-tools pull-right">
                    <b:button ctr="#{cc.attrs.ctr}" icon="refresh" type="#{not empty cc.attrs.system.build ? 'success' : 'danger'} btn-xs">
                        <f:ajax event="click" render="#{cc.id}" execute="@this" onevent="Bf.spin"/>     
                        <f:param name="guid" value="#{cc.attrs.system.guid}" />
                    </b:button> 
                </div>
            </div>
            <div class="box-body" >
                <div class="row" jsf:rendered="#{empty cc.attrs.system.build}">
                    <div class="col-lg-2">
                        <h2><i class="fa fa-warning"/></h2>
                    </div>
                    <div class="col-lg-10"></div>
                </div>
                <div class="row" jsf:rendered="#{not empty cc.attrs.system.build}">
                    <div class="col-lg-12">
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="pull-right">
                                    <a href="#" style="font-size: 24px;"><i class="fa fa-cloud-download"/></a>
                                    <a href="#" style="font-size: 24px;">#{cc.attrs.system.build.build.projectVersion}</a>
                                    <small>
                                        <a href="#" style="vertical-align: super">
                                            <span class="badge bg-green" style="vertical-align: super">#{cc.attrs.system.build.build.build}</span>
                                        </a>   
                                    </small>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="pull-right">
                                    <i class="fa fa-code-fork"/> #{cc.attrs.system.build.build.scm}
                                </div>
                            </div>
                        </div>                          
                    </div>                    
                </div>              
            </div>
            <div class="box-footer" jsf:rendered="#{not empty cc.attrs.system.build}">
                <i class="fa fa-clock-o"/> #{cc.attrs.system.build.date}<span class="label label-default pull-right">#{cc.attrs.system.model.classification}</span>              
            </div>
        </div>            
    </composite:implementation>
</html>