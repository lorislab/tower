<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:b="http://lorislab.org/beefaces/cp"
      xmlns:composite="http://xmlns.jcp.org/jsf/composite">

    <composite:interface>
        <composite:attribute name="controller" required="true"/>
        <composite:attribute name="title" required="false" default="Title"/>
        <composite:attribute name="question" required="false" default="Question?"/>		
        <composite:attribute name="render" required="false" default="editForm:box:password:input"/>		
    </composite:interface>

    <composite:implementation>		
        <b:modal id="p" title="Change password">
            <f:facet name="footer">
                <b:button id="dd" ctr="#{cc.attrs.controller.changePasswordAction}" title="Change password" type="danger" icon="key">
                    <f:ajax event="click" render="#{cc.attrs.render} #{cc.id}:p:content" execute="@form"
                            onevent="function(d){if(d.status==='success')if($('##{cc.id}\\\\:p\\\\:status').length === 0)$('##{cc.id}\\\\:p\\\\:modal').modal('hide');}" />
                </b:button>                
            </f:facet>

            <b:input id="new1" value="#{cc.attrs.controller.password.new1}" type="password" required="true" title="New password" />
            <b:input id="new2" value="#{cc.attrs.controller.password.new2}" type="password" required="true" title="Confirm" />
            <b:messages />
        </b:modal>	
    </composite:implementation>
</html>